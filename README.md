# RTOS-Course-project-ARM-mode
RTOS Assignment













-From
Vaishnavi H Chillal – 01fe19bec264
                                                                                 Yash Mahale – 01fe19bec265     
                                                                                                Ifra – 01fe19bec266
                                                                                   B L Ganesh – 01fe19bec267 
Contents:
RTOS Assignment	1
Problem Statement:	2
Literature Survey:	3
Functions:	3
Multiple Solutions:	3
Solutions Picked:	4
Best Suited Solution:	4
Justification:	5
Peripherals Used:	5
Optimisation Techniques:	5
Functional Block Diagram:	6
Algorithm:	6
Flow Chart:	7
Code:	8
Memory and Time analysis:	16
Simulation Results:	16
References:	16


Problem Statement:

		Waste management in hotels and Restaurants is an alarming issue today in India. Design a solution that can streamline and automate the waste collection, transportation to the desired location, notifications around waste pickup and delivery, and tracking waste disposal in a more environment-friendly way.
Literature Survey:

To familiarise themselves with the terminology used and the general requirement of the issue statement, the team performed a thorough literature review. We began by reducing the quantity of trash generated by restaurants, and we discovered aluminium, plastics, glass, steel, cardboard, and food waste. Which can be broadly classified into
	Wet waste
	Dry waste
We began our quest for ways to dispose of the garbage after learning about the many forms of waste created by restaurants. Landfills, incinerators, biological reprocessing, and animal feeding are all examples of waste management. However, we needed to find out how to get that garbage to a site that is suited for that particular sort of waste. After reading a number of articles, we decided to use a Robotic Arm to pick up trash and dispose of it in the appropriate vehicle.
Functions:

	After looking into the problem statement, the following functions are listed:
	Streamline and Automation of waste collection
	Transportation of trash to the desired location
	Notification of waste pickup and delivery
	 Tracking of waste disposal





Multiple Solutions:

Objectives	Multiple Solutions

Notification of pickup and hotel selection	•	App based Notification
•	Notification on call
•	LED and buzzer-based Notification
•	Keypad based selection
•	Selection Based on UART input given

Classification of waste	•	Classification based on image Processing
•	Classification based on sensor (touch sensor, moisture sensor)
•	Manually (using Switch/keypad/UART)

Picking up of waste and transportation	•	Robotic Arm
•	Conveyer belt
•	Using Actuators

Tracking of waste disposal	•	The tracking will be based on the classification and will get delivered to the required location (1or2), that is, Dry waste or wet waste

Solutions Picked:

Objectives	Chosen Solution
Notification of pickup and hotel selection	Selection Based on UART input given.
LED and buzzer-based Notification

Classification of waste	Manually (using UART)

Picking up of waste and transportation	Pickup-Stepper Motor 
Transportation-DC Motor

Tracking of waste disposal	The tracking will be based on the classification and will get delivered to the required location (1or2), that is, Dry waste or wet waste


Best Suited Solution:

	Starting with being alerted by the restaurant from a number of restaurants using UART. Then, using LEDs, announce that the garbage has been collected. Continue to categorise the trash using UART that indicates whether it is dry or wet. Using a servo motor (actuator) to pick up garbage and to rotate it at different angles, depending on the waste classification. Acknowledgement of transportation using DC motor and delivering it to the desired place. Finally, a buzzer is used to announce that the trash has been delivered, and the message is printed on an LCD for acknowledgement.

Justification:

	We chose the solution based on what was available and what was most suited for the specific requirements, from receiving notification from the restaurant to effectively disposing of the garbage. Starting with the restaurant selection, we selected UART because it was convenient and user-friendly. When it came to classification, we used UART input because the sensors we had were not very precise and couldn't be shown in simulation, as it required the wet and dry touch. Next, we utilised a stepper motor to pick up garbage, which functions as a robotic arm and turns to a certain angle dependent on the trash categorization. We chose a DC motor for transportation, which may refer to automobile. Based on the situations, we picked UART and LCDs for message display. The buzzer and LEDs are used for notification.

Peripherals Used:

	LCD
	LED
	Buzzer
	Servo motor
	DC motor
	UART
	Switch


Optimisation Techniques:

	Loop unrolling
	Inline function
	If-else & switch
	While & for
	Data types
	Local and Global declaration
	Functions/Modular approach
	Using header files
	Conditional Execution
	Pass by value and pass by reference.

Functional Block Diagram:


















Algorithm:

Step 1: Start
Step 2: Take the input from the restaurant using UART.
Step 3: Turn on the LED to notify that the Trash is ready to pick up.
Step 4: Display “Select Dry/Wet waste” on UART
Step 5: Take the input using UART
Step 6: Rotate the servo motor to certain angles (90° for dry wet and -90° for wet waste) based on the input taken from the UART.
Step 7: When the servo motor reaches to the desired angle and waste has been picked, rotate the DC motor for transportation to desired location.
Step 8: After all the functions, Display “The trash has been successfully disposed to the desired location” on LCD
Step 9: Turn on the buzzer to notify that the task has been completed
Step 10: Stop















Flow Chart:

 
Code:

#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<lpc21xx.h>

void delay(int);
void led_blink(void);
void buzzer(void);
void stepper_dry(void);
void stepper_wet(void);
void DC_motor(void);
void init(void);
void print_message(char*);

char first[]="Select a restuarant : \n\r";
char first_partial[]=" selected.\n\r";

char second[]="Ready to pickup...\n\r";
char third[]="Select the trash type\n\r1. Dry\n\r2. Wet\n\r";
char transport[]="Transporting waste to desired locatin...\n\r";
char success[]="Successfully transported.\n\r";


char sw_1[] = "Picking Dry waste\r";
char sw_2[] = "Picking wet waste\r";
char sw_def[] = "Picking waste\r";

int main()
{
	int x;
	char ch;
		
	//Initialize all pheripharals
	init();
		
	//Take input from user
	print_message(first);
	while(!(U0LSR & 0x01));
	x = U0RBR;
	
	while(!(U0LSR &0x20));
	U0THR=x;

	print_message(first_partial);
	
	//Acknowledge the user with message and led
	print_message(second);
	led_blink();
	delay(1000000);
	delay(1000000);
	
	//Take the input for classification of waste
	print_message(third);
	while(!(U0LSR & 0x01));
	ch = U0RBR;
	
	while(!(U0LSR &0x20));
	U0THR=ch;
	print_message(first_partial);
	
	//Print message and Start Stepper motor based on input 'ch'
	switch(ch)
	{
		case '1':print_message(sw_1);
				stepper_dry();
				break;
		case '2':print_message(sw_2);
				stepper_wet();
				break;
		default:
				print_message(sw_def);
	}
	
	//Start DC motor
	DC_motor();
	print_message(transport);

	//Buzzer [End]
	buzzer();
	print_message(success);
	
	
}
void init()
{
	IODIR0 = 0xF00F4C00; // Stepper, LED, Buzzer, DC,config as output
	
	//For UART communication
	PINSEL0=0x00000005;
	U0LCR=0x83;
	U0DLL=0x61;
	U0LCR=0x03;
}

void DC_motor()
{
	  int i;
		IOCLR0=0x00000C00;
		for(i=0;i<3;i++)
		{
			 IOSET0=0x00000400;
			 IOCLR0=0x00000800;
			 delay(5000000);

			 IOSET0=0x00000800;
			 IOCLR0=0x00000400;
			 delay(5000000);
		}
}
void stepper_dry()
{	
		IO0SET=0x10000000;
		delay(5000000);
		IO0CLR=0x10000000;
		delay(5000000);
	
	  IO0SET=0x20000000;
		delay(5000000);
		IO0CLR=0x20000000;
		delay(5000000);
	
		IO0SET=0x40000000;
		delay(5000000);
		IO0CLR=0x40000000;
		delay(5000000);
	
		IO0SET=0x80000000;
		delay(5000000);
		IO0CLR=0x80000000;
		delay(5000000);	

		IO0SET=0xC0000000;
		delay(5000000);
		IO0CLR=0xC0000000;
		delay(5000000);	
}

void stepper_wet()
{
		IO0SET=0xC0000000;
		delay(5000000);
		IO0CLR=0xC0000000;
		delay(5000000);
	
		IO0SET=0x80000000;
		delay(5000000);
		IO0CLR=0x80000000;
		delay(5000000);
	
		IO0SET=0x40000000;
		delay(5000000);
		IO0CLR=0x40000000;
		delay(5000000);
	
		IO0SET=0x20000000;
		delay(5000000);
		IO0CLR=0x20000000;
		delay(5000000);
	
		IO0SET=0x10000000;
		delay(5000000);
		IO0CLR=0x10000000;
		delay(5000000);
	
	
}

void buzzer()
{
	int i;
	IOSET0 = 0X000F4000;
	for(i=0;i<5;i++)
	{
		IOCLR0 = 0X000F4000;
		delay(1000000);
		IOSET0 = 0X000F4000;
		delay(1000000);
	}
}

void led_blink()
{
 
  IOSET0=0X00080000;
  delay(100000);
  IOCLR0=0X00080000;
  delay(100000);
	
	IOSET0=0X00040000;
  delay(100000);
  IOCLR0=0X00040000;
  delay(100000);
	
	IOSET0=0X00020000;
  delay(100000);
  IOCLR0=0X00020000;
  delay(100000);
	
	IOSET0=0X00010000;
  delay(100000);
  IOCLR0=0X00010000;
  delay(100000);
}

void print_message(char* mess)
{
	  int i,charLen = strlen(mess);
		for(i=0;i<charLen;i++)
		{
			while(!(U0LSR &0x20));
			U0THR=mess[i];
		}
}

void delay(int time)
{
	unsigned int i;
	for(i=0;i<time;i++);
}
Memory and Time analysis:


 
 

Simulation Results:


 

 

















References:

	https://wasteharmonics.com/waste-management-improvements-hotel-industry/
	https://wasteharmonics.com/waste-management-improvements-hotel-industry/
	https://www.hospitalitynet.org/opinion/4092117.html
	https://create.arduino.cc/projecthub/Varun2905/smart-segregator-that-seperates-dry-and-wet-waste-aec602
	https://www.researchgate.net/publication/318882129_Reduction_and_Management_of_Waste_in_Hotel_Industries


